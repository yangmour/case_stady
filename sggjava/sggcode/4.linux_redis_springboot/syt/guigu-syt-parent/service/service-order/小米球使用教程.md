# 小米球使用教程

# 1、下载注册

官网地址：http://www.xiaomiqiu.cn/

![image-20220623193456619](assets/image-20220623193456619.png)

注册地址：https://manager.xiaomiqiu.com/

按照提示注册账号



# 2、开通免费隧道

## 2.1 开通

![image-20220623193734266](assets/image-20220623193734266.png)

## 2.2 实名认证

购买实名认证：

![image-20220623193859596](assets/image-20220623193859596.png)

实名认证：

![image-20220623194018856](assets/image-20220623194018856.png)

## 2.3 隧道配置

默认上面的步骤完成后自动生成多个隧道，只需要修改**Http隧道**的本地服务地址即可

隧道配置的作用是生成公网域名映射到本机地址

![image-20211023073756671](./imgs/image-20211023073756671.png)



# 3、启动客户端访问测试

拷贝管理控制台的token：

![image-20211023074733544](./imgs/image-20211023074733544.png)

修改配置： xiaomiqiu.conf      ，替换配置文件中的token：

![image-20211023075327025](./imgs/image-20211023075327025.png)

启动客户端：

![image-20211023075428242](./imgs/image-20211023075428242.png)

启动后可以拷贝公网地址访问

![image-20211023075541111](./imgs/image-20211023075541111.png)



访问测试： 访问内网穿透工具生成的域名可以穿透到本机接口地址

![image-20211023075707504](./imgs/image-20211023075707504.png)



​	一旦有请求访问公网ip，公网ip将请求转交给长链接访问它的 客户端

```

```

​	访问管理控制台：注册、购买免费服务器通道、实名认证

```
https://manager.xiaomiqiu.com/index
```

​	配置隧道：注意必须提示隧道正常

```
系统管理->账户管理->我的隧道-> 修改Http的隧道：配置映射本地地址为  127.0.0.1端口号为 gmall-payment的端口号
```

​	拷贝token：注意必须已实名才可以使用

```
系统管理->账户管理->我的账户-> 拷贝token
```

​	配置token：

```
在下载的小米球 配置文件xiaomiqiu.conf中修改token为自己的拷贝的token
```

​	启动内网穿透工具：

```
在现在的小米球 中打开  bat批处理文件  ，回车  启动小米球
如下提示表示小米球启动成功，通过Forwarding的映射地址可以访问到 本地目标服务(如果映射目标服务地址错误需要到小米球管理控制台修改Http隧道的映射)
Tunnel Status                 online                                                     Forwarding                    http://ptytaxeekhdr.ngrok2.xiaomiqiu.cn -> 127.0.0.1:18093 
```

